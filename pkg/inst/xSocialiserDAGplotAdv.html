<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xSocialiserDAGplotAdv"><tr><td>xSocialiserDAGplotAdv</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xSocialiserDAGplotAdv</h2>

<h3>Usage</h3>

<pre>
xSocialiserDAGplotAdv(g, query1, query2, displayBy = c("IC", "none"),
path.mode = c("all_paths", "shortest_paths", "all_shortest_paths"),
height = 7, width = 7, margin = rep(0.1, 4), colormap = c("wyr", "bwr",
"jet", "gbr", "yr", "br", "rainbow", "wb", "lightyellow-orange"),
ncolors = 40, zlim = NULL, colorbar = T, colorbar.fraction = 0.1,
newpage = T, layout.orientation = c("top_bottom", "left_right",
"bottom_top", "right_left"), node.info = c("term_name", "term_id"),
wrap.width = NULL, graph.node.attrs = NULL, graph.edge.attrs = NULL,
node.attrs = NULL, output.format = c("Ragraph", "igraph"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>g</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>query1</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>query2</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>displayBy</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>path.mode</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>height</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>margin</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colormap</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>ncolors</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>zlim</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colorbar</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colorbar.fraction</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>newpage</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>layout.orientation</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.info</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>wrap.width</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>graph.node.attrs</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>graph.edge.attrs</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.attrs</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>output.format</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (g, query1, query2, displayBy = c("IC", "none"), path.mode =
c("all_paths",
"shortest_paths", "all_shortest_paths"), height = 7, width = 7,
margin = rep(0.1, 4), colormap = c("wyr", "bwr", "jet", "gbr",
"yr", "br", "rainbow", "wb", "lightyellow-orange"), ncolors = 40,
zlim = NULL, colorbar = T, colorbar.fraction = 0.1, newpage = T,
layout.orientation = c("top_bottom", "left_right", "bottom_top",
"right_left"), node.info = c("term_name", "term_id"),
wrap.width = NULL, graph.node.attrs = NULL, graph.edge.attrs = NULL,
node.attrs = NULL, output.format = c("Ragraph", "igraph"))
{
displayBy &lt;- match.arg(displayBy)
path.mode &lt;- match.arg(path.mode)
layout.orientation &lt;- match.arg(layout.orientation)
node.info &lt;- match.arg(node.info)
output.format &lt;- match.arg(output.format)
ig_SNP1 &lt;- xSocialiserDAGplot(g, query = query1, output.format =
"igraph")
ig_SNP2 &lt;- xSocialiserDAGplot(g, query = query2, output.format =
"igraph")
if (is.null(ig_SNP1) | is.null(ig_SNP2)) {
warnings("No terms are found to annotate one or two entities in
query!")
return(NULL)
}
list_igraph &lt;- list(ig_SNP1, ig_SNP2)
names(list_igraph) &lt;- c(query1, query2)
ls_edges &lt;- lapply(list_igraph, function(x) {
df_edge &lt;- igraph::get.data.frame(x, what = "edges")
})
relations &lt;- do.call(rbind, ls_edges)
relations &lt;- relations[!duplicated(relations), ]
ls_nodes &lt;- lapply(list_igraph, function(x) {
df_nodes &lt;- igraph::get.data.frame(x, what = "vertices")
})
nodes &lt;- do.call(rbind, ls_nodes)
nodes &lt;- nodes[, -7]
nodes &lt;- nodes[!duplicated(nodes), ]
ig &lt;- igraph::graph.data.frame(d = relations, directed = T,
vertices = nodes)
ls_res &lt;- lapply(list_igraph, function(x) {
ind &lt;- match(V(ig)$name, V(x)$name)
res &lt;- V(x)$inherited[ind] * (-1) + 2
res[is.na(res)] &lt;- 0
res
})
df_res &lt;- do.call(cbind, ls_res)
code &lt;- apply(df_res, 1, paste, collapse = "-")
V(ig)$code &lt;- code
subg &lt;- ig
V(subg)$name &lt;- paste(V(subg)$code, V(subg)$name, sep = "\\n")
V(subg)$term_name &lt;- paste(V(subg)$code, V(subg)$term_name,
sep = "\\n")
if (displayBy == "IC") {
data &lt;- V(subg)$IC
names(data) &lt;- V(subg)$name
}
else {
data &lt;- NULL
}
if (output.format == "igraph") {
invisible(ig)
}
else if (output.format == "Ragraph") {
if (is.null(graph.edge.attrs)) {
}
agDAG &lt;- visDAG(g = subg, data = data, height = height,
width = width, margin = margin, colormap = colormap,
ncolors = ncolors, zlim = zlim, colorbar = colorbar,
colorbar.fraction = colorbar.fraction, newpage = newpage,
layout.orientation = layout.orientation, node.info = node.info,
numChar = wrap.width, graph.node.attrs = graph.node.attrs,
graph.edge.attrs = graph.edge.attrs, node.attrs = node.attrs)
invisible(agDAG)
}
}
</pre>


</body></html>
