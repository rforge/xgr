<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xSubneterGR"><tr><td>xSubneterGR</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xSubneterGR</h2>

<h3>Usage</h3>

<pre>
xSubneterGR(data, significance.threshold = 5e-05, score.cap = 10,
build.conversion = c(NA, "hg38.to.hg19", "hg18.to.hg19"), distance.max
= 50000, decay.kernel = c("slow", "linear", "rapid", "constant"),
decay.exponent = 2, GR.Gene = c("UCSC_knownGene",
"UCSC_knownCanonical"), scoring.scheme = c("max", "sum", "sequential"),
network = c("STRING_highest", "STRING_high", "STRING_medium",
"STRING_low", "PCommonsUN_high", "PCommonsUN_medium",
"PCommonsDN_high", "PCommonsDN_medium", "PCommonsDN_Reactome",
"PCommonsDN_KEGG", "PCommonsDN_HumanCyc", "PCommonsDN_PID",
"PCommonsDN_PANTHER", "PCommonsDN_ReconX", "PCommonsDN_TRANSFAC",
"PCommonsDN_PhosphoSite", "PCommonsDN_CTD", "KEGG", "KEGG_metabolism",
"KEGG_genetic", "KEGG_environmental", "KEGG_cellular",
"KEGG_organismal", "KEGG_disease", "REACTOME"), STRING.only = c(NA,
"neighborhood_score", "fusion_score", "cooccurence_score",
"coexpression_score", "experimental_score", "database_score",
"textmining_score")[1], network.customised = NULL, seed.genes = T,
subnet.significance = 5e-05, subnet.size = NULL, test.permutation = F,
num.permutation = 100, respect = c("none", "degree"), aggregateBy =
c("Ztransform", "fishers", "logistic", "orderStatistic"), num.subnets =
NA, verbose = T, silent = F, RData.location =
"http://galahad.well.ox.ac.uk/bigdata", guid = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>significance.threshold</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>score.cap</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>build.conversion</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>distance.max</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>decay.kernel</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>decay.exponent</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>GR.Gene</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>scoring.scheme</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>network</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>STRING.only</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>network.customised</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>seed.genes</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>subnet.significance</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>subnet.size</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>test.permutation</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>num.permutation</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>respect</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>aggregateBy</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>num.subnets</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>silent</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>RData.location</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>guid</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (data, significance.threshold = 5e-05, score.cap = 10,
build.conversion = c(NA, "hg38.to.hg19", "hg18.to.hg19"),
distance.max = 50000, decay.kernel = c("slow", "linear",
"rapid", "constant"), decay.exponent = 2, GR.Gene = c("UCSC_knownGene",
"UCSC_knownCanonical"), scoring.scheme = c("max", "sum",
"sequential"), network = c("STRING_highest", "STRING_high",
"STRING_medium", "STRING_low", "PCommonsUN_high", "PCommonsUN_medium",
"PCommonsDN_high", "PCommonsDN_medium", "PCommonsDN_Reactome",
"PCommonsDN_KEGG", "PCommonsDN_HumanCyc", "PCommonsDN_PID",
"PCommonsDN_PANTHER", "PCommonsDN_ReconX", "PCommonsDN_TRANSFAC",
"PCommonsDN_PhosphoSite", "PCommonsDN_CTD", "KEGG", "KEGG_metabolism",
"KEGG_genetic", "KEGG_environmental", "KEGG_cellular",
"KEGG_organismal", "KEGG_disease", "REACTOME"), STRING.only = c(NA,
"neighborhood_score", "fusion_score", "cooccurence_score",
"coexpression_score", "experimental_score", "database_score",
"textmining_score")[1], network.customised = NULL, seed.genes = T,
subnet.significance = 5e-05, subnet.size = NULL, test.permutation = F,
num.permutation = 100, respect = c("none", "degree"), aggregateBy =
c("Ztransform",
"fishers", "logistic", "orderStatistic"), num.subnets = NA,
verbose = T, silent = F, RData.location =
"http://galahad.well.ox.ac.uk/bigdata",
guid = NULL)
{
startT &lt;- Sys.time()
if (!silent) {
message(paste(c("Start at ", as.character(startT)), collapse = ""),
appendLF = TRUE)
message("", appendLF = TRUE)
}
else {
verbose &lt;- FALSE
}
build.conversion &lt;- match.arg(build.conversion)
decay.kernel &lt;- match.arg(decay.kernel)
scoring.scheme &lt;- match.arg(scoring.scheme)
network &lt;- match.arg(network)
if (verbose) {
now &lt;- Sys.time()
message(sprintf("\n#######################################################",
appendLF = T))
message(sprintf("'xGR2GeneScores' is being called to score seed genes
(%s):",
as.character(now)), appendLF = T)
message(sprintf("#######################################################",
appendLF = T))
}
mSeed &lt;- xGR2GeneScores(data = data, significance.threshold =
significance.threshold,
score.cap = score.cap, build.conversion = build.conversion,
distance.max = distance.max, decay.kernel = decay.kernel,
decay.exponent = decay.exponent, GR.Gene = GR.Gene, scoring.scheme =
scoring.scheme,
verbose = verbose, RData.location = RData.location, guid = guid)
if (verbose) {
now &lt;- Sys.time()
message(sprintf("#######################################################",
appendLF = T))
message(sprintf("'xGR2GeneScores' has been finished (%s)!",
as.character(now)), appendLF = T)
message(sprintf("#######################################################\n",
appendLF = T))
}
df_Gene &lt;- mSeed$Gene
pval &lt;- df_Gene$Pval
names(pval) &lt;- df_Gene$Gene
if (verbose) {
now &lt;- Sys.time()
message(sprintf("\t\t minimum p-value: %1.2e; maximum p-value:
%1.2e",
min(pval), max(pval)), appendLF = T)
}
flag &lt;- F
if (!is.null(num.subnets)) {
if (is.na(num.subnets)) {
flag &lt;- T
}
}
if (flag) {
if (verbose) {
now &lt;- Sys.time()
message(sprintf("\n#######################################################",
appendLF = T))
message(sprintf("xSubneterGenes is being called (%s):",
as.character(now)), appendLF = T)
message(sprintf("#######################################################",
appendLF = T))
}
subg &lt;- xSubneterGenes(data = pval, network = network,
STRING.only = STRING.only, network.customised = network.customised,
seed.genes = seed.genes, subnet.significance = subnet.significance,
subnet.size = subnet.size, test.permutation = test.permutation,
num.permutation = num.permutation, respect = respect,
aggregateBy = aggregateBy, verbose = verbose, silent = !verbose,
RData.location = RData.location, guid = guid)
if (verbose) {
now &lt;- Sys.time()
message(sprintf("#######################################################",
appendLF = T))
message(sprintf("xSubneterGenes has finished (%s)!",
as.character(now)), appendLF = T)
message(sprintf("#######################################################\n",
appendLF = T))
}
}
else {
if (!is.null(subnet.size)) {
if (verbose) {
now &lt;- Sys.time()
message(sprintf("\n#######################################################",
appendLF = T))
message(sprintf("xSubneterGenesAdv is being called (%s):",
as.character(now)), appendLF = T)
message(sprintf("#######################################################",
appendLF = T))
}
subg &lt;- xSubneterGenesAdv(data = pval, network = network,
STRING.only = STRING.only, network.customised = network.customised,
seed.genes = seed.genes, subnet.size = subnet.size,
test.permutation = test.permutation, num.permutation = num.permutation,
respect = respect, aggregateBy = aggregateBy,
num.subnets = num.subnets, verbose = verbose,
silent = !verbose, RData.location = RData.location,
guid = guid)
if (verbose) {
now &lt;- Sys.time()
message(sprintf("#######################################################",
appendLF = T))
message(sprintf("xSubneterGenesAdv has finished (%s)!",
as.character(now)), appendLF = T)
message(sprintf("#######################################################\n",
appendLF = T))
}
}
else {
stop("The function requires subnet.size is NULL when num.subnets is not
NA.\n")
}
}
endT &lt;- Sys.time()
runTime &lt;- as.numeric(difftime(strptime(endT, "%Y-%m-%d
%H:%M:%S"),
strptime(startT, "%Y-%m-%d %H:%M:%S"), units = "secs"))
if (!silent) {
message(paste(c("\nEnd at ", as.character(endT)), collapse = ""),
appendLF = TRUE)
message(paste(c("Runtime in total (xSubneterGR): ", runTime,
" secs\n"), collapse = ""), appendLF = TRUE)
}
return(subg)
}
</pre>


</body></html>
