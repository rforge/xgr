<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xEnrichDAGplot"><tr><td>xEnrichDAGplot</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xEnrichDAGplot</h2>

<h3>Usage</h3>

<pre>
xEnrichDAGplot(eTerm, top_num = 10, ig = NULL, displayBy = c("fc",
"adjp", "fdr", "zscore", "pvalue"), path.mode = c("all_paths",
"shortest_paths", "all_shortest_paths"), height = 7, width = 7, margin
= rep(0.1, 4), colormap = c("yr", "bwr", "jet", "gbr", "wyr", "br",
"rainbow", "wb", "lightyellow-orange"), ncolors = 40, zlim = NULL,
colorbar = T, colorbar.fraction = 0.1, newpage = T, layout.orientation
= c("top_bottom", "left_right", "bottom_top", "right_left"), node.info
= c("none", "term_id", "term_name", "both", "full_term_name"),
wrap.width = NULL, graph.node.attrs = NULL, graph.edge.attrs = NULL,
node.attrs = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>eTerm</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>top_num</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>ig</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>displayBy</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>path.mode</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>height</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>margin</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colormap</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>ncolors</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>zlim</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colorbar</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>colorbar.fraction</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>newpage</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>layout.orientation</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.info</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>wrap.width</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>graph.node.attrs</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>graph.edge.attrs</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.attrs</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (eTerm, top_num = 10, ig = NULL, displayBy = c("fc",
"adjp", "fdr", "zscore", "pvalue"), path.mode = c("all_paths",
"shortest_paths", "all_shortest_paths"), height = 7, width = 7,
margin = rep(0.1, 4), colormap = c("yr", "bwr", "jet", "gbr",
"wyr", "br", "rainbow", "wb", "lightyellow-orange"),
ncolors = 40, zlim = NULL, colorbar = T, colorbar.fraction = 0.1,
newpage = T, layout.orientation = c("top_bottom", "left_right",
"bottom_top", "right_left"), node.info = c("none", "term_id",
"term_name", "both", "full_term_name"), wrap.width = NULL,
graph.node.attrs = NULL, graph.edge.attrs = NULL, node.attrs = NULL)
{
displayBy &lt;- match.arg(displayBy)
path.mode &lt;- match.arg(path.mode)
layout.orientation &lt;- match.arg(layout.orientation)
node.info &lt;- match.arg(node.info)
if (is.null(eTerm)) {
warnings("There is no enrichment in the 'eTerm' object.\n")
return(NULL)
}
if (class(eTerm)[1] == "eTerm") {
df &lt;- xEnrichViewer(eTerm, top_num = "all")
if (top_num == "auto") {
top_num &lt;- sum(df$adjp &lt; 0.05)
if (top_num &lt;= 1) {
top_num &lt;- sum(df$adjp &lt; 0.1)
}
if (top_num &lt;= 1) {
top_num &lt;- 10
}
}
df &lt;- xEnrichViewer(eTerm, top_num = top_num, sortBy = "adjp")
nodes_query &lt;- rownames(df)
if (class(ig) == "igraph") {
nodes_query_tmp &lt;- intersect(nodes_query, V(ig)$name)
if (length(nodes_query_tmp) &gt; 0) {
nodes_query &lt;- nodes_query_tmp
}
}
g &lt;- eTerm$g
subg &lt;- dnet::dDAGinduce(g, nodes_query, path.mode = path.mode)
if (displayBy == "adjp" | displayBy == "fdr") {
data &lt;- -1 * log10(df$adjp)
}
else if (displayBy == "fc") {
data &lt;- df$fc
}
else if (displayBy == "pvalue") {
data &lt;- -1 * log10(df$pvalue)
}
else if (displayBy == "zscore") {
data &lt;- df$zscore
}
names(data) &lt;- rownames(df)
data &lt;- data[V(subg)$name]
}
else {
stop("Cannot find an 'eTerm' object.\n")
}
if (is.null(graph.edge.attrs)) {
}
if (is.null(node.attrs)) {
hightlighted.shape &lt;- rep("box", length(nodes_query))
names(hightlighted.shape) &lt;- V(subg)[nodes_query]$name
node.attrs &lt;- list(shape = hightlighted.shape)
}
agDAG &lt;- visDAG(g = subg, data = data, height = height, width = width,
margin = margin, colormap = colormap, ncolors = ncolors,
zlim = zlim, colorbar = colorbar, colorbar.fraction =
colorbar.fraction,
newpage = newpage, layout.orientation = layout.orientation,
node.info = node.info, numChar = wrap.width, graph.node.attrs =
graph.node.attrs,
graph.edge.attrs = graph.edge.attrs, node.attrs = node.attrs)
invisible(agDAG)
}
</pre>


</body></html>
