<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xSM2DF"><tr><td>xSM2DF</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xSM2DF</h2>

<h3>Usage</h3>

<pre>
xSM2DF(data, verbose = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (data, verbose = TRUE)
{
if (class(data) == "dgCMatrix" | is.data.frame(data)) {
}
if (is.null(rownames(data))) {
names_row &lt;- 1:nrow(data)
}
else {
names_row &lt;- rownames(data)
}
if (is.null(colnames(data))) {
names_col &lt;- 1:ncol(data)
}
else {
names_col &lt;- colnames(data)
}
if (is.data.frame(data) | class(data) == "matrix" | class(data) ==
"dgeMatrix") {
data &lt;- as.matrix(data)
xy &lt;- which(data != 0, arr.ind = TRUE)
ind &lt;- which(data != 0, arr.ind = FALSE)
if (nrow(xy) &gt; 0) {
res_df &lt;- data.frame(rownames = names_row[xy[, 1]],
colnames = names_col[xy[, 2]], values = data[ind],
stringsAsFactors = FALSE)
res_df &lt;- res_df[order(res_df$rownames, res_df$values,
decreasing = FALSE), ]
if (verbose) {
message(sprintf("A matrix of %d X %d has been converted into a data
frame of %d X 3.",
dim(data)[1], dim(data)[2], nrow(res_df)),
appendLF = T)
}
}
else {
res_df &lt;- NULL
}
}
else if (class(data) == "dgCMatrix" | class(data) == "dsCMatrix") {
ijx &lt;- summary(data)
if (nrow(ijx) &gt; 0) {
res_df &lt;- data.frame(rownames = names_row[ijx[, 1]],
colnames = names_col[ijx[, 2]], values = ijx[,
3], stringsAsFactors = FALSE)
res_df &lt;- res_df[order(res_df$rownames, res_df$values,
decreasing = FALSE), ]
if (verbose) {
message(sprintf("A matrix of %d X %d has been converted into a data
frame of %d X 3.",
dim(data)[1], dim(data)[2], nrow(res_df)),
appendLF = T)
}
}
else {
res_df &lt;- NULL
}
}
invisible(res_df)
}
</pre>


</body></html>
