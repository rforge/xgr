<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xGGraph"><tr><td>xGGraph</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xGGraph</h2>

<h3>Usage</h3>

<pre>
xGGraph(ig, layout = "partition", circular = T, leave = T,
node.label.size = 2, node.label.direction = c("none", "leftright",
"topbottom"), node.label.color = "steelblue", node.label.alpha = 0.7,
node.label.wrap = NULL, node.label.offset = 0.5, node.size = 2,
limit.expansion = NULL, edge = c("diagonal", "link", "arc", "fan",
"elbow"), edge.color = "grey", edge.alpha = 0.5, edge.width = 0.5, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>ig</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>layout</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>circular</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>leave</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.size</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.direction</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.color</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.alpha</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.wrap</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.label.offset</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>node.size</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>limit.expansion</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>edge</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>edge.color</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>edge.alpha</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>edge.width</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (ig, layout = "partition", circular = T, leave = T,
node.label.size = 2, node.label.direction = c("none", "leftright",
"topbottom"), node.label.color = "steelblue", node.label.alpha = 0.7,
node.label.wrap = NULL, node.label.offset = 0.5, node.size = 2,
limit.expansion = NULL, edge = c("diagonal", "link", "arc",
"fan", "elbow"), edge.color = "grey", edge.alpha = 0.5,
edge.width = 0.5, ...)
{
node.label.direction &lt;- match.arg(node.label.direction)
edge &lt;- match.arg(edge)
if (0) {
if (any(duplicated(tree$node.label)))
tree$node.label &lt;- NULL
ig &lt;- as.igraph(tree, directed = T, use.labels = T)
}
if (class(ig) != "igraph") {
warnings("The function must apply to the 'igraph' object.\n")
return(NULL)
}
else {
if (!all(c("name") %in% igraph::vertex_attr_names(ig))) {
warnings("The igraph object must have vertex attribute 'name'.\n")
return(NULL)
}
}
if (!("label" %in% igraph::vertex_attr_names(ig))) {
V(ig)$label &lt;- V(ig)$name
}
if (!is.null(node.label.wrap)) {
width &lt;- as.integer(node.label.wrap)
res_list &lt;- lapply(V(ig)$label, function(x) {
x &lt;- gsub("_", " ", x)
y &lt;- strwrap(x, width = width)
if (length(y) &gt; 1) {
paste(y, collapse = "\n")
}
else {
y
}
})
V(ig)$label &lt;- unlist(res_list)
}
x &lt;- y &lt;- leaf &lt;- label &lt;- name &lt;- NULL
if (length(suppressWarnings(tryCatch(gp &lt;- ggraph::ggraph(ig,
layout = layout, circular = circular), error = function(e) e,
warning = function(w) w))) == 2) {
warning("The layout does not support circularity!")
circular &lt;- F
gp &lt;- ggraph::ggraph(ig, layout = layout, circular = circular)
}
if (leave &amp; !is.null(gp$data$leaf)) {
gp &lt;- gp + ggraph::geom_node_point(aes(filter = leaf),
size = node.size, color = edge.color, alpha = edge.alpha)
}
else {
gp &lt;- gp + ggraph::geom_node_point(size = node.size,
color = edge.color, alpha = edge.alpha)
}
if (edge == "diagonal") {
gp &lt;- gp + ggraph::geom_edge_diagonal(color = edge.color,
alpha = edge.alpha, width = edge.width)
}
else if (edge == "link") {
gp &lt;- gp + ggraph::geom_edge_link(color = edge.color,
alpha = edge.alpha, width = edge.width)
}
else if (edge == "arc") {
gp &lt;- gp + ggraph::geom_edge_arc(color = edge.color,
alpha = edge.alpha, width = edge.width)
}
else if (edge == "fan") {
gp &lt;- gp + ggraph::geom_edge_fan(color = edge.color,
alpha = edge.alpha, width = edge.width)
}
else if (edge == "elbow") {
gp &lt;- gp + ggraph::geom_edge_elbow(color = edge.color,
alpha = edge.alpha, width = edge.width)
}
if (node.label.size &gt; 0) {
if (leave &amp; !is.null(gp$data$leaf)) {
df &lt;- subset(gp$data, leaf == T)
}
else {
df &lt;- gp$data
}
if (node.label.direction == "none") {
gp &lt;- gp + ggrepel::geom_text_repel(data = df, aes(x = x,
y = y, label = label), color = node.label.color,
size = node.label.size, alpha = node.label.alpha,
show.legend = F, segment.alpha = 0.5, segment.color = "grey50",
segment.size = 0.2, arrow = arrow(length = unit(0.01,
"npc")), ...)
}
else if (node.label.direction == "leftright") {
offset &lt;- (range(gp$data$x)[2] - range(gp$data$x)[1]) *
node.label.offset
root &lt;- subset(gp$data, name == dnet::dDAGroot(ig))
df1 &lt;- subset(df, x &lt; root$x)
df1$nudge_x &lt;- -1 * (df1$x - min(gp$data$x)) - offset
gp &lt;- gp + ggrepel::geom_text_repel(data = df1, aes(x = x,
y = y, label = label), color = node.label.color,
size = node.label.size, alpha = node.label.alpha,
show.legend = F, segment.alpha = 0.5, segment.color = "grey50",
segment.size = 0.2, arrow = arrow(length = unit(0.01,
"npc")), direction = "y", hjust = 0, nudge_x = df1$nudge_x)
df2 &lt;- subset(df, x &gt;= root$x)
df2$nudge_x &lt;- (max(gp$data$x) - df2$x) + offset
gp &lt;- gp + ggrepel::geom_text_repel(data = df2, aes(x = x,
y = y, label = label), color = node.label.color,
size = node.label.size, alpha = node.label.alpha,
show.legend = F, segment.alpha = 0.5, segment.color = "grey50",
segment.size = 0.2, arrow = arrow(length = unit(0.01,
"npc")), direction = "y", hjust = 1, nudge_x = df2$nudge_x)
if (is.null(limit.expansion)) {
gp &lt;- gp + expand_limits(x = range(gp$data$x) *
(1 + 2 * node.label.offset), y = range(gp$data$y))
}
else {
gp &lt;- gp + expand_limits(x = c(-limit.expansion,
limit.expansion), y = c(-limit.expansion, limit.expansion))
}
}
else if (node.label.direction == "topbottom") {
offset &lt;- (range(gp$data$y)[2] - range(gp$data$y)[1]) *
node.label.offset
root &lt;- subset(gp$data, name == dnet::dDAGroot(ig))
df1 &lt;- subset(df, y &lt; root$y)
df1$nudge_y &lt;- -1 * (df1$y - min(gp$data$y)) - offset
gp &lt;- gp + ggrepel::geom_text_repel(data = df1, aes(x = x,
y = y, label = label), color = node.label.color,
size = node.label.size, alpha = node.label.alpha,
show.legend = F, segment.alpha = 0.5, segment.color = "grey50",
segment.size = 0.2, arrow = arrow(length = unit(0.01,
"npc")), direction = "x", hjust = 0, nudge_y = df1$nudge_y,
angle = 90)
df2 &lt;- subset(df, y &gt;= root$y)
df2$nudge_y &lt;- (max(gp$data$y) - df2$y) + offset
gp &lt;- gp + ggrepel::geom_text_repel(data = df2, aes(x = x,
y = y, label = label), color = node.label.color,
size = node.label.size, alpha = node.label.alpha,
show.legend = F, segment.alpha = 0.5, segment.color = "grey50",
segment.size = 0.2, arrow = arrow(length = unit(0.01,
"npc")), direction = "x", hjust = 1, nudge_y = df2$nudge_y,
angle = 90)
if (is.null(limit.expansion)) {
gp &lt;- gp + expand_limits(x = range(gp$data$x),
y = range(gp$data$y) * (1 + 2 * node.label.offset))
}
else {
gp &lt;- gp + expand_limits(x = c(-limit.expansion,
limit.expansion), y = c(-limit.expansion, limit.expansion))
}
}
}
gp &lt;- gp + ggraph::theme_graph(base_family = "sans", plot_margin =
margin(0,
0, 0, 0))
if (0) {
tipid &lt;- NULL
}
gp$ig &lt;- ig
invisible(gp)
}
</pre>


</body></html>
