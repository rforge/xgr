<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for xEnricherGenesAdv"><tr><td>xEnricherGenesAdv</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>xEnricherGenesAdv</h2>

<h3>Usage</h3>

<pre>
xEnricherGenesAdv(list_vec, background = NULL, check.symbol.identity =
F, ontologies = NA, size.range = c(10, 2000), min.overlap = 5,
which.distance = NULL, test = c("fisher", "hypergeo", "binomial"),
background.annotatable.only = NULL, p.tail = c("one-tail",
"two-tails"), p.adjust.method = c("BH", "BY", "bonferroni", "holm",
"hochberg", "hommel"), ontology.algorithm = c("none", "pc", "elim",
"lea"), elim.pvalue = 0.01, lea.depth = 2, path.mode = c("all_paths",
"shortest_paths", "all_shortest_paths"), true.path.rule = F, verbose =
F, silent = FALSE, plot = TRUE, fdr.cutoff = 0.05, displayBy =
c("zscore", "fdr", "pvalue", "fc", "or"), RData.location =
"http://galahad.well.ox.ac.uk/bigdata", guid = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>list_vec</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>background</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>check.symbol.identity</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>ontologies</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>size.range</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>min.overlap</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>which.distance</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>test</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>background.annotatable.only</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>p.tail</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>p.adjust.method</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>ontology.algorithm</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>elim.pvalue</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>lea.depth</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>path.mode</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>true.path.rule</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>silent</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>plot</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>fdr.cutoff</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>displayBy</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>RData.location</code></td>
<td>


</td></tr>
<tr valign="top"><td><code>guid</code></td>
<td>


</td></tr>
</table>


<h3>Examples</h3>

<pre>
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (list_vec, background = NULL, check.symbol.identity = F,
ontologies = NA, size.range = c(10, 2000), min.overlap = 5,
which.distance = NULL, test = c("fisher", "hypergeo", "binomial"),
background.annotatable.only = NULL, p.tail = c("one-tail",
"two-tails"), p.adjust.method = c("BH", "BY", "bonferroni",
"holm", "hochberg", "hommel"), ontology.algorithm = c("none",
"pc", "elim", "lea"), elim.pvalue = 0.01, lea.depth = 2,
path.mode = c("all_paths", "shortest_paths", "all_shortest_paths"),
true.path.rule = F, verbose = F, silent = FALSE, plot = TRUE,
fdr.cutoff = 0.05, displayBy = c("zscore", "fdr", "pvalue",
"fc", "or"), RData.location = "http://galahad.well.ox.ac.uk/bigdata",
guid = NULL)
{
startT &lt;- Sys.time()
if (!silent) {
message(paste(c("Start at ", as.character(startT)), collapse = ""),
appendLF = TRUE)
message("", appendLF = TRUE)
}
else {
verbose &lt;- FALSE
}
test &lt;- match.arg(test)
p.tail &lt;- match.arg(p.tail)
p.adjust.method &lt;- match.arg(p.adjust.method)
ontology.algorithm &lt;- match.arg(ontology.algorithm)
path.mode &lt;- match.arg(path.mode)
p.tail &lt;- match.arg(p.tail)
displayBy &lt;- match.arg(displayBy)
if (class(list_vec) == "cModule") {
list_vec &lt;- split(x = list_vec$mem$nodes, f = list_vec$mem$modules)
}
if (length(list_vec) == 0) {
return(NULL)
}
if (is.vector(list_vec) &amp; class(list_vec) != "list") {
list_vec &lt;- list(list_vec)
}
else if (class(list_vec) == "list") {
list_vec &lt;- base::Filter(base::Negate(is.null), list_vec)
if (length(list_vec) == 0) {
return(NULL)
}
}
else {
stop("The input data must be a vector or a list of vectors.\n")
}
list_names &lt;- names(list_vec)
if (is.null(list_names)) {
list_names &lt;- paste0("G", 1:length(list_vec))
names(list_vec) &lt;- list_names
}
ls_df &lt;- lapply(1:length(list_vec), function(i) {
if (verbose) {
message(sprintf("Analysing group %d ('%s') (%s) ...",
i, names(list_vec)[i], as.character(Sys.time())),
appendLF = T)
}
data &lt;- list_vec[[i]]
ls_df &lt;- lapply(1:length(ontologies), function(j) {
if (verbose) {
message(sprintf("\tontology %d ('%s') (%s) ...",
j, ontologies[j], as.character(Sys.time())),
appendLF = T)
}
ontology &lt;- ontologies[j]
eTerm &lt;- xEnricherGenes(data = data, background = background,
check.symbol.identity = check.symbol.identity,
ontology = ontology, size.range = size.range,
min.overlap = min.overlap, which.distance = which.distance,
test = test, background.annotatable.only = background.annotatable.only,
p.tail = p.tail, p.adjust.method = p.adjust.method,
ontology.algorithm = ontology.algorithm, elim.pvalue = elim.pvalue,
lea.depth = lea.depth, path.mode = path.mode,
true.path.rule = true.path.rule, verbose = verbose,
silent = !verbose, RData.location = RData.location,
guid = guid)
df &lt;- xEnrichViewer(eTerm, top_num = "all", sortBy = "or",
details = TRUE)
if (is.null(df)) {
return(NULL)
}
else {
cbind(group = rep(names(list_vec)[i], nrow(df)),
ontology = rep(ontology, nrow(df)), id = rownames(df),
df, stringsAsFactors = F)
}
})
df &lt;- do.call(rbind, ls_df)
})
df_all &lt;- do.call(rbind, ls_df)
df_all$group &lt;- factor(df_all$group, levels = names(list_vec))
if (plot &amp; !is.null(df_all)) {
gp &lt;- xEnrichHeatmap(list_eTerm = df_all, fdr.cutoff = fdr.cutoff,
displayBy = displayBy, colormap = NULL, zlim = NULL,
reorder = "none")
mat &lt;- gp$mat
gp$mat &lt;- NULL
}
else {
mat &lt;- NULL
gp &lt;- NULL
}
ls_eTerm &lt;- list(df = df_all, mat = mat, gp = gp)
class(ls_eTerm) &lt;- "ls_eTerm"
endT &lt;- Sys.time()
runTime &lt;- as.numeric(difftime(strptime(endT, "%Y-%m-%d
%H:%M:%S"),
strptime(startT, "%Y-%m-%d %H:%M:%S"), units = "secs"))
if (!silent) {
message(paste(c("\nEnd at ", as.character(endT)), collapse = ""),
appendLF = TRUE)
message(paste(c("Runtime in total (xEnricherGenesAdv): ",
runTime, " secs\n"), collapse = ""), appendLF = TRUE)
}
invisible(ls_eTerm)
}
</pre>


</body></html>
